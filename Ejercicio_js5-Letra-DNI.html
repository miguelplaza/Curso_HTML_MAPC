<!DOCTYPE html>
<html> 
    <head>
        <meta charset="utf-8">
        <title>Ej5: Letra DNI</title>
        <script>
            //Variables
            var letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X',
                          'B', 'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];

            var DNI, resto, letradni, letracorrecta,mensaje;
            var letrasvalidas = /^[a-zA-Z]$/;

            //Introducir y comprobar los datos
            DNI = prompt("Introducir un número");          
            if (DNI == '')
            { mensaje = "Debe introducir algún número"; }
            else
            {
                if (DNI<0 || DNI>99999999 || isNaN(DNI)) 
                { mensaje = "Número introducido NO VÁLIDO"; }                
                else
                {
                    letradni = prompt("Introducir la letra");
                    if (letradni == '') 
                    { mensaje = "Debe introducir alguna letra"; }
                    else 
                    {              
                        letradni = letradni.toUpperCase();
                        if (!letrasvalidas.test(letradni)) 
                        { mensaje = "La LETRA introducida NO ES VÁLIDA"; }
                        else
                        {   
                            //Calcular la letra correcta
                            resto = DNI % 23;
                            letracorrecta = letras[resto];
                            if (letracorrecta == letradni ) 
                            { mensaje = "El NÚMERO y la LETRA introducidos son VÁLIDOS"; }
                            else 
                            { mensaje = "La LETRA introducida NO ES CORRECTA"; }
                        }
                    }
                }
                 
            }

            alert (mensaje);
                        
        </script>
    </head>
    <body>
        <h1>Letra DNI</h1>     
    </body>
</html>